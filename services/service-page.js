// Extended translations for service pages
window.serviceTranslations = {
    en: {
        nav: {
            home: "Home",
            about: "About us",
            services: "Services", 
            partners: "Our Partners",
            contact: "Contact us"
        },
        networking: {
            title: "Networking & Cybersecurity",
            subtitle: "Professional network infrastructure and cybersecurity solutions for businesses and organizations",
            networks_installed: "Networks Installed",
            uptime: "Uptime",
            support: "Support",
            what_we_do: "What We Offer",
            description: "We offer full network infrastructure maintenance services for organizations, including routine audits, updates, and ongoing support.",
            feature1: "LAN/WAN Network Design",
            feature2: "Structured Cabling Infrastructure", 
            feature3: "Router & Switch Configuration",
            feature4: "VLAN, VPN, QoS, PoE Setup",
            feature5: "Wi-Fi Network Deployment",
            feature6: "Network Security & Monitoring",
            our_services: "Our Network Services",
            design_planning: "LAN/WAN Network Design & Installation",
            design_desc: "Design and installation of LAN/WAN networks for businesses and organizations.",
            installation: "Structured Cabling Solutions", 
            installation_desc: "Structured cabling: Ethernet and fiber optic infrastructure.",
            wireless: "Network Equipment Setup",
            wireless_desc: "Setup and configuration of routers, switches, and wireless access points.",
            optimization: "Advanced Network Configuration",
            optimization_desc: "VLAN, VPN, QoS, PoE configuration.",
            security: "Wi-Fi Network Deployment",
            security_desc: "Deployment of Wi-Fi networks for offices, warehouses, and outdoor areas.",
            maintenance: "Network Security & Troubleshooting",
            maintenance_desc: "Network security with firewalls, IDS/IPS systems. Access control policy setup and network segmentation. Web filtering and protection against external threats. Network troubleshooting and optimization.",
            recent_projects: "Our Network Projects",
            gallery_subtitle: "Take a look at some of our recent network installations and configurations",
            project1_title: "Corporate Office Network",
            project1_desc: "Complete network infrastructure for 200+ employees",
            project2_title: "Hospital Network System",
            project2_desc: "Critical healthcare network with 99.99% uptime",
            project3_title: "Warehouse WiFi Coverage",
            project3_desc: "Wide-area wireless coverage for logistics operations",
            project4_title: "Educational Network",
            project4_desc: "Secure network for 1000+ students and staff",
            project5_title: "Retail POS Network",
            project5_desc: "High-speed network for point-of-sale systems",
            project6_title: "Manufacturing Network",
            project6_desc: "Industrial-grade network for production facility",
            our_process: "Our Implementation Process",
            step1: "Site Assessment",
            step1_desc: "Thorough analysis of your current infrastructure and business requirements",
            step2: "Design & Planning",
            step2_desc: "Custom network design with detailed implementation plans and timelines",
            step3: "Installation",
            step3_desc: "Professional installation with minimal disruption to your operations",
            step4: "Testing & Optimization",
            step4_desc: "Comprehensive testing and performance optimization",
            step5: "Training & Handover",
            step5_desc: "User training and complete documentation handover",
            step6: "Ongoing Support",
            step6_desc: "24/7 monitoring and support to ensure optimal performance",
            ready_to_upgrade: "Ready to Upgrade Your Network?",
            cta_description: "Contact us today for a free consultation and discover how we can improve your network infrastructure."
        },
        cybersecurity: {
            title: "Video Surveillance (CCTV)",
            subtitle: "Professional CCTV and video surveillance solutions for comprehensive security monitoring",
            what_we_do: "Video Surveillance Services",
            description: "We offer long-term service contracts for surveillance systems, including periodic checks, software updates, and hardware replacement.",
            feature1: "CCTV System Design & Installation",
            feature2: "Camera Setup & Configuration",
            feature3: "Power & Cabling Infrastructure", 
            feature4: "NVR/DVR Configuration",
            feature5: "Remote Viewing Access",
            feature6: "Smart Analytics & Integration",
            design_planning: "IP, Analog & Hybrid CCTV Systems",
            design_desc: "Design and installation of IP, analog, and hybrid CCTV systems.",
            installation: "Camera Installation Services",
            installation_desc: "Indoor, outdoor, PTZ, and thermal camera setup.",
            wireless: "Infrastructure & Power Solutions",
            wireless_desc: "Cabling and power infrastructure (PoE or 12V).",
            optimization: "Storage & Recording Systems",
            optimization_desc: "Configuration of NVR/DVR units and storage servers.",
            security: "Remote Access & Mobile Viewing",
            security_desc: "Remote viewing on smartphones and computers.",
            maintenance: "Advanced Integration & Analytics",
            maintenance_desc: "Integration with access control and alarm systems. Smart video analytics: motion detection, face/object recognition. Maintenance and troubleshooting of camera systems."
        },
        monitoring: {
            title: "Access Control Systems",
            subtitle: "Planning and installation of professional access control systems",
            what_we_do: "What We Offer",
            description: "We provide ongoing service and maintenance of access control systems for offices, schools, public buildings, and businesses.",
            feature1: "Electric/Magnetic Locks Installation",
            feature2: "Keypads & Card Readers Setup", 
            feature3: "Biometric Solutions",
            feature4: "Access Level Configuration",
            feature5: "Employee Attendance Integration",
            feature6: "Mobile Access via Apps (BLE/NFC)",
            our_services: "Our Access Control Services",
            design_planning: "Professional System Planning",
            design_desc: "Planning and installation of professional access control systems.",
            installation: "Lock & Reader Installation", 
            installation_desc: "Installation of electric/magnetic locks, keypads, and card readers.",
            wireless: "Biometric Solutions",
            wireless_desc: "Biometric solutions: fingerprint, face recognition, palm scanning.",
            optimization: "Access Configuration",
            optimization_desc: "Access level configuration for employees and visitors.",
            security: "System Integration",
            security_desc: "Integration with employee attendance systems.",
            maintenance: "Maintenance & Upgrades",
            maintenance_desc: "Standalone or networked systems. Maintenance and upgrades of existing access control infrastructure. Mobile access options via apps (BLE/NFC).",
            recent_projects: "Our Access Control Projects",
            gallery_subtitle: "Take a look at some of our recent access control installations",
            project1_title: "Corporate Access System",
            project1_desc: "Complete access control for 300+ employees",
            project2_title: "School Security System", 
            project2_desc: "Biometric access control for educational facility",
            project3_title: "Hospital Access Control",
            project3_desc: "Multi-level access system for medical staff",
            project4_title: "Office Building Access",
            project4_desc: "Card-based access control with mobile integration"
        },
        support: {
            title: "Intrusion & Alarm Systems",
            subtitle: "Planning and installation of intrusion and emergency alert systems",
            what_we_do: "What We Offer",
            description: "We provide complete support and maintenance for alarm systems in offices, stores, institutions, and private homes, including integration with local security providers and police response where applicable.",
            feature1: "Motion & Glass Break Detectors",
            feature2: "Door/Window Contact Sensors",
            feature3: "Water/Gas Leak Detection",
            feature4: "Panic Button Installation",
            feature5: "24/7 Security Center Integration",
            feature6: "Mobile Alerts & Backup Power",
            our_services: "Our Alarm System Services",
            design_planning: "System Planning & Design",
            design_desc: "Planning and installation of intrusion and emergency alert systems.",
            installation: "Sensor Installation",
            installation_desc: "Setup of motion detectors, glass break sensors, door/window contacts, water/gas leak detectors.",
            wireless: "Panic Button Systems",
            wireless_desc: "Panic buttons (hidden or wall-mounted).",
            optimization: "Security Center Integration",
            optimization_desc: "Integration with 24/7 local security monitoring centers (מוקד אבטחה).",
            security: "Alert Systems",
            security_desc: "Real-time alerts via SMS or mobile apps.",
            maintenance: "Full System Support",
            maintenance_desc: "Installation of indoor/outdoor sirens with strobe lights. Backup power and disconnection alerts. Full system maintenance and reliability checks.",
            recent_projects: "Our Alarm System Projects",
            gallery_subtitle: "Take a look at some of our recent alarm system installations",
            project1_title: "Office Intrusion System",
            project1_desc: "Complete alarm system for business premises",
            project2_title: "Retail Store Security",
            project2_desc: "Advanced intrusion detection with panic buttons",
            project3_title: "Home Alarm System",
            project3_desc: "Residential security with mobile integration",
            project4_title: "Industrial Facility Alert",
            project4_desc: "Multi-zone alarm system with gas leak detection"
        },
        // Add services object for compatibility with main page translations
        services: {
            networking: {
                title: "Networking & Cybersecurity"
            },
            security: {
                title: "Video Surveillance (CCTV)"
            },
            monitoring: {
                title: "Access Control Systems"
            },
            support: {
                title: "Intrusion & Alarm Systems"
            }
        },
        // Add surveillance translations
        surveillance: {
            recent_projects: "Recent Surveillance Installations"
        },
        // Add access control translations  
        access: {
            recent_projects: "Recent Access Control Installations"
        },
        footer: {
            services: "Services"
        },
        common: {
            view_project: "View Project",
            get_quote: "Get Free Quote",
            call_now: "Call Now"
        }
    },
    he: {
        nav: {
            home: "בית",
            about: "אודותינו",
            services: "שירותים",
            partners: "השותפים שלנו", 
            contact: "צור קשר"
        },
        networking: {
            title: "רשתות ואבטחת מידע",
            subtitle: "פתרונות מקצועיים לתשתית רשת ואבטחת מידע לעסקים וארגונים",
            networks_installed: "רשתות שהותקנו",
            uptime: "זמן פעילות",
            support: "תמיכה",
            what_we_do: "מה אנחנו מציעים",
            description: "אנו מציעים שירותי תחזוקה שוטפת של תשתיות רשת לארגונים, כולל ביקורות תקופתיות, עדכונים ותמיכה שוטפת.",
            feature1: "תכנון והתקנת רשתות LAN/WAN",
            feature2: "פריסת תשתית כבלים",
            feature3: "התקנה והגדרה של ציוד רשת",
            feature4: "הגדרת VLAN, VPN, QoS, PoE",
            feature5: "הקמת רשתות Wi-Fi",
            feature6: "אבטחת רשת וניטור",
            our_services: "שירותי הרשת שלנו",
            design_planning: "תכנון והתקנת רשתות תקשורת (LAN/WAN)",
            design_desc: "תכנון והתקנת רשתות תקשורת (LAN/WAN) בעסקים וארגונים.",
            installation: "פריסת תשתית כבלים",
            installation_desc: "פריסת תשתית כבלים – כבלי רשת, סיבי אופטיים.",
            wireless: "התקנה והגדרה של ציוד רשת",
            wireless_desc: "התקנה והגדרה של נתבים, מתגים ונקודות גישה.",
            optimization: "הגדרות רשת מתקדמות",
            optimization_desc: "הגדרת VLAN, VPN, QoS, PoE ועוד.",
            security: "הקמת רשתות Wi-Fi",
            security_desc: "הקמת רשתות Wi-Fi למשרדים, מחסנים ומרחבים פתוחים.",
            maintenance: "אבטחת רשת ואיתור תקלות",
            maintenance_desc: "אבטחת רשת באמצעות חומות אש (Firewall), מערכות גילוי/מניעת פריצות (IDS/IPS). חלוקת גישת משתמשים לפי מדיניות אבטחה. סינון תכנים והגנה מפני איומים חיצוניים. איתור ופתרון תקלות רשת.",
            recent_projects: "פרויקטי הרשת שלנו",
            gallery_subtitle: "הציצו לכמה מההתקנות והתצורות הרשת האחרונות שלנו",
            project1_title: "רשת משרד תאגידי",
            project1_desc: "תשתית רשת מלאה לכ-200 עובדים",
            project2_title: "מערכת רשת בית חולים",
            project2_desc: "רשת קריטית לשירותי בריאות עם 99.99% זמן פעילות",
            project3_title: "כיסוי WiFi למחסן",
            project3_desc: "כיסוי אלחוטי לאזור נרחב לפעולות לוגיסטיות",
            project4_title: "רשת חינוכית",
            project4_desc: "רשת מאובטחת לכ-1000 תלמידים וצוות",
            project5_title: "רשת קמעונאית לנקודות מכירה",
            project5_desc: "רשת מהירה למערכות נקודות מכירה",
            project6_title: "רשת ייצור",
            project6_desc: "רשת ברמה תעשייתית למתקן ייצור",
            our_process: "תהליך היישום שלנו",
            step1: "הערכת אתר",
            step1_desc: "ניתוח מקיף של התשתית הנוכחית והדרישות העסקיות שלכם",
            step2: "עיצוב ותכנון",
            step2_desc: "עיצוב רשת מותאם אישית עם תוכניות יישום מפורטות ולוחות זמנים",
            step3: "התקנה",
            step3_desc: "התקנה מקצועית עם הפרעה מינימלית לפעילות שלכם",
            step4: "בדיקות ואופטימיזציה",
            step4_desc: "בדיקות מקיפות ואופטימיזציית ביצועים",
            step5: "הדרכה והעברה",
            step5_desc: "הדרכת משתמשים והעברה מלאה של תיעוד",
            step6: "תמיכה מתמשכת",
            step6_desc: "ניטור ותמיכה 24/7 להבטחת ביצועים אופטימליים",
            ready_to_upgrade: "מוכנים לשדרג את הרשת שלכם?",
            cta_description: "צרו קשר היום ליעוץ חינם וגלו איך אנחנו יכולים לשפר את תשתית הרשת שלכם."
        },
        cybersecurity: {
            title: "מערכות מעקב וידאו (CCTV)",
            subtitle: "פתרונות מעקב וידאו מקצועיים למערכות CCTV ומעקב אבטחה מקיף",
            what_we_do: "שירותי מערכות מעקב וידאו",
            description: "אנו מציעים חוזי שירות ארוכי טווח למערכות מעקב, כולל בדיקות תקופתיות, עדכוני תוכנה והחלפת חומרה.",
            features: "התכונות שלנו",
            feature1: "תכנון והתקנת מערכות CCTV",
            feature2: "התקנה והגדרת מצלמות",
            feature3: "תשתית חשמל וכבלים",
            feature4: "הגדרת יחידות NVR/DVR",
            feature5: "גישה מרחוק ותצוגה ניידת",
            feature6: "אנליטיקה חכמה ואינטגרציה",
            our_services: "שירותי המעקב שלנו",
            camera_installation: "מערכות CCTV IP, אנלוגיות והיברידיות",
            camera_installation_desc: "תכנון והתקנת מערכות CCTV IP, אנלוגיות והיברידיות.",
            recording_systems: "שירותי התקנת מצלמות",
            recording_systems_desc: "התקנת מצלמות פנימיות, חיצוניות, PTZ ותרמיות.",
            remote_monitoring: "פתרונות תשתית וחשמל",
            remote_monitoring_desc: "תשתית כבלים וחשמל (PoE או 12V).",
            maintenance: "מערכות אחסון והקלטה",
            maintenance_desc: "הגדרת יחידות NVR/DVR ושרתי אחסון.",
            design_planning: "גישה מרחוק וצפייה ניידת",
            design_desc: "צפייה מרחוק בסמארטפונים ומחשבים.",
            installation: "אינטגרציה מתקדמת ואנליטיקה",
            installation_desc: "אינטגרציה עם בקרת גישה ומערכות אזעקה. אנליטיקה חכמה: זיהוי תנועה, זיהוי פנים/אובייקטים. תחזוקה ופתרון בעיות במערכות מצלמות.",
            recent_projects: "התקנות מעקב אחרונות",
            project1_title: "מערכת אבטחה למשרד",
            project1_desc: "12 מצלמות HD עם מערכת הקלטה מרכזית",
            project2_title: "אבטחה למחסן תעשייתי",
            project2_desc: "כיסוי מלא עם מצלמות חיצוניות ופנימיות",
            project3_title: "מעקב לחנות קמעונאות",
            project3_desc: "מערכת אבטחה חכמה עם זיהוי פנים",
            ready_to_secure: "מוכנים לאבטח את הנכס שלכם?",
            cta_description: "צרו קשר היום להתקנה מקצועית של מערכת מעקב מתקדמת"
        },
        monitoring: {
            title: "מערכות בקרת כניסה",
            subtitle: "תכנון והתקנת מערכות בקרת כניסה מקצועיות לעסקים ומוסדות",
            what_we_do: "מה אנחנו מציעים",
            description: "אנו מספקים שירות ותחזוקה שוטפים של מערכות בקרת כניסה למשרדים, בתי ספר, מבני ציבור ועסקים.",
            feature1: "התקנת מנעולים חשמליים/מגנטיים",
            feature2: "התקנת לוחות מקשים וקוראי כרטיסים",
            feature3: "פתרונות ביומטריים",
            feature4: "הגדרת רמות גישה",
            feature5: "אינטגרציה עם מערכות נוכחות",
            feature6: "גישה ניידת דרך אפליקציות",
            our_services: "שירותי בקרת הכניסה שלנו",
            design_planning: "תכנון מערכת מקצועי",
            design_desc: "תכנון והתקנת מערכות בקרת כניסה מקצועיות.",
            installation: "התקנת מנעולים וקוראים",
            installation_desc: "התקנת מנעולים חשמליים/מגנטיים, לוחות מקשים וקוראי כרטיסים.",
            wireless: "פתרונות ביומטריים",
            wireless_desc: "פתרונות ביומטריים: טביעת אצבע, זיהוי פנים, סריקת כף יד.",
            optimization: "הגדרת גישה",
            optimization_desc: "הגדרת רמות גישה לעובדים ומבקרים.",
            security: "אינטגרציה של מערכות",
            security_desc: "אינטגרציה עם מערכות נוכחות עובדים.",
            maintenance: "תחזוקה ושדרוגים",
            maintenance_desc: "מערכות עצמאיות או ברשת. תחזוקה ושדרוגים של תשתית בקרת כניסה קיימת. אפשרויות גישה ניידת דרך אפליקציות (BLE/NFC).",
            recent_projects: "פרויקטי בקרת הכניסה שלנו",
            gallery_subtitle: "הציצו בכמה מההתקנות האחרונות שלנו",
            project1_title: "מערכת גישה ארגונית",
            project1_desc: "בקרת גישה מלאה ל-300+ עובדים",
            project2_title: "מערכת אבטחה לבית ספר",
            project2_desc: "בקרת גישה ביומטרית למוסד חינוכי",
            project3_title: "בקרת גישה לבית חולים",
            project3_desc: "מערכת גישה רב-רמתית לצוות רפואי",
            project4_title: "גישה לבניין משרדים",
            project4_desc: "בקרת גישה מבוססת כרטיסים עם אינטגרציה ניידת",
            description: "בקרו על הגישה לנכס שלכם עם מערכות בקרת גישה חכמות הכוללות מנעולים דיגיטליים, קוראי כרטיסים וניהול מרחוק",
            features: "התכונות שלנו",
            feature1: "מנעולים חכמים",
            feature2: "קוראי כרטיסים",
            feature3: "ניהול מרחוק",
            feature4: "זיהוי ביומטרי",
            feature5: "רישום כניסות",
            feature6: "בקרת זמנים",
            our_services: "שירותי בקרת הגישה שלנו",
            access_installation: "התקנת מערכות גישה",
            access_installation_desc: "התקנה מקצועית של מנעולים חכמים וקוראי כרטיסים",
            card_systems: "מערכות כרטיסים",
            card_systems_desc: "מערכות קוראי כרטיסים מגנטיים ו-RFID לבקרת גישה מתקדמת",
            mobile_management: "ניהול באפליקציה",
            mobile_management_desc: "בקרה ומעקב אחר כל הכניסות באמצעות אפליקציה ייעודית",
            maintenance: "תחזוקה ותמיכה",
            maintenance_desc: "תחזוקה שוטפת ותמיכה טכנית למערכות בקרת הגישה",
            recent_projects: "התקנות בקרת גישה אחרונות",
            project1_title: "בקרת גישה למשרד",
            project1_desc: "מערכת בקרת גישה עם קוראי כרטיסים לכל הקומות",
            project2_title: "אבטחה למתחם תעשייתי",
            project2_desc: "בקרת גישה רב-שלבית עם זיהוי ביומטרי",
            project3_title: "מערכת גישה למבנה מגורים",
            project3_desc: "מנעולים חכמים עם שליטה באפליקציה",
            ready_to_control: "מוכנים לשלוט בגישה לנכס שלכם?",
            cta_description: "צרו קשר היום להתקנה מקצועית של מערכת בקרת גישה מתקדמת"
        },
        support: {
            title: "מערכות אזעקה והתראה",
            subtitle: "תכנון והתקנת מערכות אזעקה חכמות - קוויות ואלחוטיות",
            what_we_do: "מה אנחנו מציעים",
            description: "אנו מציעים שירות ותחזוקה מלא של מערכות אזעקה למשרדים, חנויות, מוסדות ובתים פרטיים, כולל חיבור למוקד אבטחה ואינטגרציה עם המשטרה במידת הצורך.",
            feature1: "התקנת גלאים: תנועה, פתיחה, שבירת זכוכית",
            feature2: "גלאי דלתות וחלונות",
            feature3: "זיהוי פריץ זמן אמת",
            feature4: "כפתורי חירום נסתרים או קיריים",
            feature5: "אינטגרציה עם מוקד אבטחה פרטי (מוקד 24/7)",
            feature6: "שליחת התראות למידע או לאפליקציה",
            our_services: "שירותי מערכות האזעקה שלנו",
            design_planning: "תכנון והתקנה מקצועית",
            design_desc: "תכנון והתקנת מערכות אזעקה והתראה למבנים.",
            installation: "התקנת חיישנים",
            installation_desc: "התקנת גלאי תנועה, שבירת זכוכית, מגעי דלתות/חלונות, גלאי דליפת מים/גז.",
            wireless: "מערכות כפתורי חירום",
            wireless_desc: "כפתורי חירום (נסתרים או צמודי קיר).",
            optimization: "אינטגרציה עם מוקד אבטחה",
            optimization_desc: "אינטגרציה עם מוקד אבטחה מקומי 24/7 (מוקד אבטחה).",
            security: "מערכות התראה",
            security_desc: "התראות בזמן אמת דרך SMS או אפליקציות ניידות.",
            maintenance: "תמיכה מלאה במערכת",
            maintenance_desc: "התקנת צופרים פנימיים/חיצוניים עם אורות מהבהבים. התראות כוח גיבוי וניתוק. תחזוקת מערכת מלאה ובדיקות אמינות.",
            our_services: "שירותי התמיכה שלנו",
            technical_support: "תמיכה טכנית",
            technical_support_desc: "תמיכה טכנית מקצועית זמינה 24/7 לפתרון בעיות מיידי",
            maintenance: "תחזוקה מונעת",
            maintenance_desc: "תחזוקה שוטפת ובדיקות מערכת למניעת תקלות",
            system_updates: "עדכוני מערכת",
            system_updates_desc: "עדכונים שוטפים של תוכנות ומערכות להבטחת ביצועים מיטביים",
            data_backup: "גיבוי נתונים",
            data_backup_desc: "שירותי גיבוי אוטומטיים להגנה על המידע החשוב שלכם",
            recent_projects: "פרויקטי תמיכה ותחזוקה אחרונים",
            project1_title: "תמיכה למערכת משרדית",
            project1_desc: "תחזוקה שוטפת ל-50 עמדות עבודה ושרתים",
            project2_title: "תמיכה למערכת אבטחה",
            project2_desc: "תחזוקה מונעת למערכת מעקב וידאו מתקדמת",
            project3_title: "עדכון מערכת רשת",
            project3_desc: "שדרוג ועדכון מערכת רשת תאגידית מלאה",
            ready_to_maintain: "מוכנים לשמור על המערכות שלכם?",
            cta_description: "צרו קשר היום לשירותי תמיכה ותחזוקה מקצועיים"
        },
        // Add services object for compatibility with main page translations
        services: {
            networking: {
                title: "רשתות ואבטחת סייבר"
            },
            security: {
                title: "מעקב וידאו (CCTV)"
            },
            monitoring: {
                title: "מערכות בקרת גישה"
            },
            support: {
                title: "מערכות חדירה ואזעקה"
            }
        },
        // Add surveillance translations
        surveillance: {
            recent_projects: "התקנות מעקב אחרונות"
        },
        // Add access control translations  
        access: {
            recent_projects: "התקנות בקרת גישה אחרונות"
        },
        footer: {
            services: "שירותים"
        },
        common: {
            view_project: "צפה בפרויקט",
            get_quote: "קבל הצעת מחיר חינם",
            call_now: "התקשר עכשיו"
        }
    }
};

// Stat Counter functionality
class StatCounter {
    constructor() {
        this.counters = document.querySelectorAll('.counter');
        this.init();
    }

    init() {
        this.observeStats();
    }

    observeStats() {
        const stats = document.querySelectorAll('.stat-number');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    this.animateCounter(entry.target);
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        stats.forEach(stat => observer.observe(stat));
    }

    animateCounter(element) {
        const target = element.textContent;
        const isPercentage = target.includes('%');
        const hasPlus = target.includes('+');
        const numericValue = parseFloat(target.replace(/[^\d.]/g, ''));
        
        let current = 0;
        const increment = numericValue / 60; // 60 frames for smooth animation
        const timer = setInterval(() => {
            current += increment;
            if (current >= numericValue) {
                current = numericValue;
                clearInterval(timer);
            }
            
            let displayValue = isPercentage ? 
                current.toFixed(1) + '%' : 
                Math.floor(current) + (hasPlus ? '+' : '');
            
            element.textContent = displayValue;
        }, 1000 / 60); // 60 FPS
    }
}

// Smooth Scroll Enhancement
class SmoothScroll {
    constructor() {
        this.init();
    }

    init() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(anchor.getAttribute('href'));
                if (target) {
                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
    }
}

// Intersection Observer for animations
class AnimationObserver {
    constructor() {
        this.init();
    }

    init() {
        const options = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, options);

        // Observe elements for animation
        const animatedElements = document.querySelectorAll(
            '.service-item, .gallery-item, .timeline-item, .feature'
        );
        
        animatedElements.forEach(el => {
            el.classList.add('fade-in');
            observer.observe(el);
        });
    }
}

// Header scroll effect
class HeaderScroll {
    constructor() {
        this.init();
    }

    init() {
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (header) {
                if (window.scrollY > 100) {
                    header.style.background = 'rgba(15, 20, 25, 0.98)';
                    header.style.backdropFilter = 'blur(15px)';
                } else {
                    header.style.background = 'rgba(15, 20, 25, 0.95)';
                    header.style.backdropFilter = 'blur(10px)';
                }
            }
        });
    }
}

// Mobile Menu Handler
class MobileMenu {
    constructor() {
        this.init();
    }

    init() {
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });

            // Close menu when clicking on a link
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }
            });
        }
    }
}

// Service card hover effects
class ServiceCardEffects {
    constructor() {
        this.init();
    }

    init() {
        document.querySelectorAll('.service-item').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        document.querySelectorAll('.gallery-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.02)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
    }
}

// Language Switcher Handler
class LanguageSwitcher {
    constructor() {
        this.currentLanguage = 'en';
        this.init();
    }

    init() {
        // Language switcher functionality
        const langButtons = document.querySelectorAll('.lang-btn');
        
        // Debug mode logging
        if (window.location.search.includes('debug=true')) {
            console.log(`Initializing LanguageSwitcher with ${langButtons.length} buttons`);
        }
        
        langButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                // Find the actual button element (in case we clicked on span inside)
                const button = e.target.closest('.lang-btn');
                if (!button) return;
                
                // Remove active class from all buttons
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Get selected language
                const lang = button.dataset.lang;
                this.currentLanguage = lang;
                
                // Save language preference
                localStorage.setItem('preferred-language', lang);
                
                // Update document language and direction
                document.documentElement.lang = lang;
                document.documentElement.dir = lang === 'he' ? 'rtl' : 'ltr';
                
                // Apply translations if available
                this.applyTranslations(lang);
            });
        });
    }

    applyTranslations(lang) {
        // Update all translated elements
        const elements = document.querySelectorAll('[data-translate]');
        
        let translatedCount = 0;
        elements.forEach(element => {
            const key = element.dataset.translate;
            const translation = this.getTranslation(key, lang);
            if (translation) {
                element.textContent = translation;
                translatedCount++;
            }
        });
        
        // Debug mode logging
        if (window.location.search.includes('debug=true')) {
            console.log(`Language switched to ${lang}: ${translatedCount}/${elements.length} elements translated`);
        }
        
        // Update placeholder texts
        const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            const translation = this.getTranslation(key, lang);
            if (translation) {
                element.placeholder = translation;
            }
        });
        
        // Update body class for RTL/LTR mode
        document.body.className = lang === 'he' ? 'rtl-mode' : 'ltr-mode';
    }

    getTranslation(key, lang) {
        // Split the key by dots to navigate nested objects
        const keys = key.split('.');
        let value = window.serviceTranslations[lang];
        
        for (const k of keys) {
            if (value && value[k]) {
                value = value[k];
            } else {
                // Only log warnings for missing translations in debug mode
                if (window.location.search.includes('debug=true')) {
                    console.warn(`Translation key not found: ${k} in path ${key}`);
                }
                return null;
            }
        }
        
        return value;
    }
}

// PREMIUM SCROLL ANIMATIONS
class ScrollAnimations {
    constructor() {
        this.animatedElements = [];
        this.init();
    }

    init() {
        this.observeElements();
        this.addStaggeredAnimations();
    }

    observeElements() {
        const options = {
            root: null,
            rootMargin: '-10% 0px -10% 0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                    const animationClass = entry.target.dataset.animation || 
                                          entry.target.classList.contains('fade-in-up') ? 'fade-in-up' :
                                          entry.target.classList.contains('slide-in-left') ? 'slide-in-left' :
                                          entry.target.classList.contains('slide-in-right') ? 'slide-in-right' :
                                          entry.target.classList.contains('rotate-in') ? 'rotate-in' : 'fade-in-up';

                    this.animateElement(entry.target, animationClass);
                }
            });
        }, options);

        // Observe all animation elements
        const animatedElements = document.querySelectorAll('.fade-in-up, .slide-in-left, .slide-in-right, .rotate-in, .feature, .project-card');
        animatedElements.forEach(el => {
            observer.observe(el);
        });
    }

    animateElement(element, animationClass) {
        element.style.animationDelay = `${Math.random() * 0.3}s`;
        element.classList.add('animated');
        
        // Add enhanced effects for special elements
        if (element.classList.contains('service-icon-large')) {
            element.style.animationDelay = '0.2s';
        } else if (element.tagName === 'H1') {
            element.style.animationDelay = '0.4s';
        } else if (element.tagName === 'P') {
            element.style.animationDelay = '0.6s';
        }
    }

    addStaggeredAnimations() {
        // Stagger feature animations
        const features = document.querySelectorAll('.features-list .feature');
        features.forEach((feature, index) => {
            feature.style.animationDelay = `${0.2 + (index * 0.15)}s`;
        });

        // Stagger project card animations
        const projectCards = document.querySelectorAll('.project-card');
        projectCards.forEach((card, index) => {
            card.style.animationDelay = `${0.1 + (index * 0.1)}s`;
        });
    }
}

// ENHANCED INTERACTIONS
class EnhancedInteractions {
    constructor() {
        this.init();
    }

    init() {
        this.addHoverEffects();
        this.addParallaxEffect();
        this.addMouseFollower();
    }

    addHoverEffects() {
        // Enhanced project card hover effects
        const projectCards = document.querySelectorAll('.project-card');
        projectCards.forEach(card => {
            card.addEventListener('mouseenter', (e) => {
                card.style.transform = 'translateY(-15px) scale(1.02) rotateX(5deg)';
                card.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            });

            card.addEventListener('mouseleave', (e) => {
                card.style.transform = 'translateY(0) scale(1) rotateX(0deg)';
            });

            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = (y - centerY) / 10;
                const rotateY = (centerX - x) / 10;

                card.style.transform = `translateY(-15px) scale(1.02) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });
        });

        // Enhanced feature hover effects
        const features = document.querySelectorAll('.features-list .feature');
        features.forEach(feature => {
            feature.addEventListener('mouseenter', () => {
                feature.querySelector('i').style.transform = 'scale(1.2) rotate(10deg)';
                feature.querySelector('i').style.transition = 'all 0.3s ease';
            });

            feature.addEventListener('mouseleave', () => {
                feature.querySelector('i').style.transform = 'scale(1) rotate(0deg)';
            });
        });
    }

    addParallaxEffect() {
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const backgrounds = document.querySelectorAll('.matrix-grid, .circuit-lines, .data-particles');
            
            backgrounds.forEach((bg, index) => {
                const speed = 0.1 + (index * 0.05);
                bg.style.transform = `translateY(${scrolled * speed}px)`;
            });
        });
    }

    addMouseFollower() {
        const serviceIcons = document.querySelectorAll('.service-icon-large');
        serviceIcons.forEach(icon => {
            icon.addEventListener('mousemove', (e) => {
                const rect = icon.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                
                icon.style.transform = `translate(${x * 0.1}px, ${y * 0.1}px) scale(1.05)`;
            });

            icon.addEventListener('mouseleave', () => {
                icon.style.transform = 'translate(0, 0) scale(1)';
            });
        });
    }
}

// PERFORMANCE OPTIMIZATIONS
class PerformanceOptimizer {
    constructor() {
        this.init();
    }

    init() {
        this.optimizeAnimations();
        this.lazyLoadImages();
    }

    optimizeAnimations() {
        // Reduce animations on lower-end devices
        const isLowEnd = navigator.hardwareConcurrency <= 2 || 
                        /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        if (isLowEnd) {
            document.documentElement.style.setProperty('--animation-duration', '0.3s');
        }
    }

    lazyLoadImages() {
        const images = document.querySelectorAll('img[src]:not(.logo-img)');
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.style.opacity = '0';
                    img.style.transition = 'opacity 0.5s ease';
                    
                    img.onload = () => {
                        img.style.opacity = '1';
                    };
                    
                    imageObserver.unobserve(img);
                }
            });
        });

        images.forEach(img => imageObserver.observe(img));
    }
}

// Test function for debugging
window.testLanguageSwitch = function(lang) {
    console.log('=== TESTING LANGUAGE SWITCH ===');
    console.log('Target language:', lang);
    console.log('Available translations:', window.serviceTranslations);
    
    const elements = document.querySelectorAll('[data-translate]');
    console.log('Found elements with data-translate:', elements.length);
    
    elements.forEach((el, index) => {
        console.log(`Element ${index}: key="${el.dataset.translate}" current="${el.textContent}"`);
    });
    
    // Try to switch language manually
    const langSwitcher = new LanguageSwitcher();
    langSwitcher.applyTranslations(lang);
};

// Force Hebrew test function
window.testHebrew = function() {
    console.log('=== FORCING HEBREW ===');
    
    // Update language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === 'he') {
            btn.classList.add('active');
        }
    });
    
    // Force apply Hebrew translations
    const elements = document.querySelectorAll('[data-translate]');
    console.log(`Found ${elements.length} elements to translate`);
    
    let translated = 0;
    elements.forEach(el => {
        const key = el.dataset.translate;
        const keys = key.split('.');
        let value = window.serviceTranslations.he;
        
        for (const k of keys) {
            if (value && value[k]) {
                value = value[k];
            } else {
                value = null;
                break;
            }
        }
        
        if (value) {
            el.textContent = value;
            translated++;
            console.log(`✅ Translated ${key}: ${value}`);
        } else {
            console.log(`❌ No translation for ${key}`);
        }
    });
    
    // Set RTL
    document.documentElement.dir = 'rtl';
    document.body.className = 'rtl-mode';
    
    console.log(`Translated ${translated}/${elements.length} elements`);
};

// Initialize all components when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    // Initialize all components
    new StatCounter();
    new SmoothScroll();
    new AnimationObserver();
    new HeaderScroll();
    new MobileMenu();
    new ServiceCardEffects();
    
    // Initialize language switcher
    const languageSwitcher = new LanguageSwitcher();
    
    // Check for saved language preference or detect from URL params
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    const savedLang = localStorage.getItem('preferred-language');
    const defaultLang = langParam || savedLang || 'en';
    
    // Set initial language
    if (defaultLang === 'he') {
        const hebrewBtn = document.querySelector('.lang-btn[data-lang="he"]');
        if (hebrewBtn) {
            hebrewBtn.click();
        }
    }

    // Initialize premium enhancements
    new ScrollAnimations();
    new EnhancedInteractions();
    new PerformanceOptimizer();

    console.log('Service page initialized successfully!');
});

// Export for potential use in other scripts
// =============================================
//         MODERN MOBILE NAVIGATION
// =============================================

// Mobile Navigation Handler
function initMobileNavigation() {
    const hamburger = document.querySelector('.hamburger');
    const navMenu = document.querySelector('.nav-menu');
    const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
    const body = document.body;
    
    // Hamburger menu toggle
    if (hamburger && navMenu) {
        hamburger.addEventListener('click', function(e) {
            e.stopPropagation();
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
            body.classList.toggle('nav-open');
        });
    }
    
    // Mobile dropdown handling
    dropdownToggles.forEach(toggle => {
        toggle.addEventListener('click', function(e) {
            if (window.innerWidth <= 992) {
                e.preventDefault();
                e.stopPropagation();
                const dropdown = this.closest('.dropdown');
                
                // Close other dropdowns
                document.querySelectorAll('.dropdown.active').forEach(dd => {
                    if (dd !== dropdown) dd.classList.remove('active');
                });
                
                dropdown.classList.toggle('active');
            }
        });
    });
    
    // Close mobile menu when clicking nav links
    document.querySelectorAll('.nav-menu a:not(.dropdown-toggle)').forEach(link => {
        link.addEventListener('click', function() {
            if (hamburger && navMenu) {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
                body.classList.remove('nav-open');
            }
        });
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.navbar') && navMenu && navMenu.classList.contains('active')) {
            hamburger.classList.remove('active');
            navMenu.classList.remove('active');
            body.classList.remove('nav-open');
            
            // Close all dropdowns
            document.querySelectorAll('.dropdown.active').forEach(dd => {
                dd.classList.remove('active');
            });
        }
    });
    
    // Close mobile menu on window resize
    window.addEventListener('resize', function() {
        if (window.innerWidth > 992) {
            if (hamburger && navMenu) {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
                body.classList.remove('nav-open');
            }
            
            // Close all dropdowns
            document.querySelectorAll('.dropdown.active').forEach(dd => {
                dd.classList.remove('active');
            });
        }
    });
}

// Touch and Mobile Optimizations
function initTouchOptimizations() {
    // Prevent iOS zoom on form focus
    const formInputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea, select');
    
    formInputs.forEach(input => {
        input.addEventListener('focus', function() {
            if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                const viewport = document.querySelector('meta[name="viewport"]');
                if (viewport) {
                    viewport.setAttribute('content', 
                        'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
                }
            }
        });
        
        input.addEventListener('blur', function() {
            if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                const viewport = document.querySelector('meta[name="viewport"]');
                if (viewport) {
                    viewport.setAttribute('content', 
                        'width=device-width, initial-scale=1.0, user-scalable=yes');
                }
            }
        });
    });
    
    // Touch feedback for buttons
    document.querySelectorAll('.btn, .feature-card, .gallery-item').forEach(element => {
        element.addEventListener('touchstart', function() {
            this.style.transform = 'scale(0.98)';
        });
        
        element.addEventListener('touchend', function() {
            this.style.transform = '';
        });
    });
}

// Initialize all mobile features
function initMobileFeatures() {
    initMobileNavigation();
    initTouchOptimizations();
    
    console.log('✅ Mobile features initialized');
}

// Auto-initialize on DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initMobileFeatures);
} else {
    initMobileFeatures();
}

window.ServicePageComponents = {
    StatCounter,
    SmoothScroll,
    AnimationObserver,
    HeaderScroll,
    MobileMenu,
    ServiceCardEffects,
    LanguageSwitcher,
    initMobileNavigation,
    initTouchOptimizations,
    initMobileFeatures
}; 